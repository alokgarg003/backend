# Application and Server Configuration
spring.application.name=OnlineCertificateManagementSystem
server.port=${PORT:5000} # PORT is dynamically assigned by Railway; fallback to 5000 for local use

# Database Configuration
spring.datasource.url=jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/${MYSQLDATABASE}?createDatabaseIfNotExist=true&useSSL=true&requireSSL=true
spring.datasource.username=${MYSQLUSER}
spring.datasource.password=${MYSQLPASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update # Auto-updates the schema; use cautiously in production
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect # Explicit dialect for MySQL
spring.jpa.show-sql=false # Disable SQL output in logs

# File Upload Limits
spring.servlet.multipart.max-file-size=20MB # Increased max file size for uploads
spring.servlet.multipart.max-request-size=20MB # Increased max request size for uploads

# CORS Configuration
spring.web.cors.allowed-origins=https://web-xi-orcin.vercel.app # Frontend URL
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH # Common methods
spring.web.cors.allowed-headers=* # Allow all headers
spring.web.cors.allow-credentials=true # Allow cookies and credentials
spring.web.cors.max-age=3600 # Cache CORS preflight requests for 1 hour
